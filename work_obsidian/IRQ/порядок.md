**Разрешение прерываний**  
Для разрешения прерываний надо сделать три вещи:  
 

- Разрешить глобальные прерывания
   __enable_irq ();
- Разрешить нужное прерывание в NVIC
- Настроить и разрешить конкретные прерывания непосредственно в периферии. Т.е. настроить нужные events на прерывания.